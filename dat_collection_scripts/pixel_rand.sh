#!/bin/bash
#
echo "Performing a Calibration of Pixels"

cp config/Config.ini config/LA_calib_config.ini
#sed -i 's/LA_pxl_num = */LA_pxl_num-hereh/' config/LA_calib_config.ini
entries=($(shuf -i 0-9999 -n 2500 | sort -n))
entries=( 0 1 8 9 20 25 28 35 38 43 45 46 47 52 56 58 59 63 67 69 75 78 80 82 84 90 93 97 99 101 106 107 108 111 112 114 121 122 124 126 131 149 168 171 175 178 179 180 182 184 187 188 203 204 207 209 211 215 218 219 221 223 226 232 237 261 263 268 269 280 284 286 287 293 294 298 300 303 308 310 322 325 327 333 335 344 345 350 353 357 364 366 368 371 375 379 382 383 385 390 391 414 417 418 425 432 434 435 436 437 438 439 442 445 452 454 455 457 461 465 467 468 469 481 482 491 493 494 496 510 512 513 516 526 536 539 551 552 553 556 565 579 582 585 587 588 590 599 600 602 603 607 609 610 621 624 626 632 651 662 664 665 671 674 675 676 683 684 686 688 689 698 703 704 709 711 716 723 726 729 733 736 739 743 754 767 771 774 778 779 781 782 783 789 794 795 796 797 801 804 805 808 815 817 835 841 847 853 854 857 864 868 874 875 876 879 881 884 889 894 897 902 903 904 912 914 928 929 934 941 943 945 946 948 952 956 958 961 971 972 978 984 989 990 991 997 998 1002 1004 1010 1013 1014 1019 1024 1031 1033 1037 1038 1045 1047 1048 1049 1054 1055 1056 1058 1059 1066 1071 1072 1084 1085 1090 1101 1102 1103 1104 1105 1116 1119 1128 1130 1131 1136 1139 1140 1141 1144 1149 1151 1155 1157 1162 1164 1170 1181 1183 1184 1185 1193 1197 1200 1202 1204 1208 1209 1210 1216 1224 1227 1228 1230 1231 1235 1243 1245 1246 1247 1251 1255 1262 1263 1271 1274 1279 1282 1283 1289 1294 1304 1306 1314 1315 1316 1317 1320 1322 1324 1325 1327 1329 1332 1334 1343 1344 1345 1353 1355 1360 1363 1364 1373 1381 1383 1390 1394 1395 1399 1403 1406 1408 1410 1419 1425 1430 1432 1435 1441 1443 1444 1448 1452 1453 1454 1456 1463 1468 1473 1477 1478 1479 1490 1491 1494 1499 1501 1509 1512 1516 1525 1529 1530 1539 1541 1546 1547 1550 1554 1557 1558 1559 1572 1577 1578 1582 1583 1584 1592 1599 1603 1605 1607 1613 1614 1620 1627 1637 1645 1646 1650 1652 1657 1661 1664 1667 1668 1671 1672 1678 1681 1682 1684 1688 1691 1697 1698 1705 1707 1711 1717 1719 1720 1731 1733 1738 1740 1744 1747 1748 1750 1755 1761 1762 1765 1776 1778 1786 1788 1790 1791 1800 1803 1806 1808 1809 1815 1820 1823 1824 1827 1835 1840 1844 1847 1848 1849 1859 1861 1862 1869 1872 1873 1877 1879 1881 1883 1885 1887 1889 1891 1893 1894 1899 1903 1904 1907 1910 1911 1913 1916 1918 1920 1922 1925 1929 1937 1942 1944 1946 1949 1953 1957 1964 1966 1969 1973 1975 1980 1984 1987 1989 1990 1996 2006 2007 2010 2012 2015 2017 2022 2029 2033 2039 2043 2050 2059 2060 2066 2068 2071 2073 2074 2076 2078 2080 2086 2088 2089 2104 2105 2109 2111 2116 2117 2118 2120 2126 2128 2129 2134 2135 2145 2147 2151 2153 2154 2156 2157 2159 2161 2173 2174 2175 2177 2181 2186 2188 2191 2200 2203 2206 2207 2210 2223 2227 2232 2233 2237 2238 2240 2241 2242 2243 2254 2260 2263 2265 2266 2267 2269 2274 2278 2279 2282 2288 2291 2298 2300 2303 2304 2308 2310 2312 2313 2315 2322 2323 2325 2326 2330 2331 2335 2341 2345 2347 2349 2354 2357 2359 2361 2367 2368 2372 2373 2374 2382 2386 2387 2389 2390 2394 2395 2397 2401 2406 2408 2410 2411 2419 2420 2421 2422 2427 2429 2434 2441 2449 2453 2455 2456 2465 2471 2479 2483 2487 2489 2500 2502 2504 2509 2522 2527 2530 2533 2534 2538 2539 2541 2546 2549 2551 2558 2561 2567 2570 2572 2576 2581 2582 2585 2588 2597 2600 2602 2609 2610 2614 2619 2620 2621 2631 2647 2648 2650 2654 2656 2658 2660 2661 2662 2665 2670 2671 2681 2683 2687 2691 2707 2710 2714 2717 2720 2723 2726 2730 2733 2736 2749 2754 2755 2756 2759 2762 2763 2769 2770 2772 2777 2784 2785 2799 2801 2802 2806 2810 2812 2814 2818 2819 2823 2826 2830 2836 2842 2849 2850 2853 2856 2859 2862 2867 2875 2876 2877 2884 2891 2893 2894 2900 2903 2907 2908 2915 2917 2922 2923 2930 2931 2932 2934 2940 2942 2945 2946 2950 2959 2960 2963 2968 2969 2970 2971 2986 2990 2993 2995 2999 3000 3007 3010 3018 3033 3036 3043 3046 3050 3056 3057 3058 3059 3074 3078 3079 3080 3081 3084 3085 3088 3090 3095 3098 3099 3108 3109 3111 3114 3122 3126 3129 3135 3138 3142 3145 3148 3149 3155 3157 3158 3162 3163 3174 3178 3186 3188 3189 3190 3192 3205 3207 3208 3213 3220 3224 3234 3235 3237 3238 3241 3249 3250 3256 3257 3263 3267 3270 3278 3285 3289 3291 3295 3304 3310 3313 3314 3319 3337 3338 3342 3345 3355 3358 3363 3365 3366 3367 3370 3374 3376 3377 3384 3395 3397 3398 3402 3405 3417 3421 3423 3424 3425 3443 3444 3445 3451 3453 3458 3468 3470 3473 3480 3482 3483 3484 3492 3494 3501 3503 3504 3506 3510 3513 3518 3520 3522 3527 3535 3549 3550 3551 3552 3555 3565 3566 3581 3585 3589 3593 3596 3597 3608 3617 3623 3624 3629 3631 3637 3641 3643 3647 3649 3650 3653 3654 3655 3659 3672 3674 3675 3676 3680 3697 3706 3712 3713 3721 3728 3736 3739 3740 3742 3748 3753 3754 3755 3756 3759 3766 3773 3788 3789 3795 3796 3797 3801 3802 3803 3806 3807 3808 3809 3812 3815 3818 3821 3824 3825 3826 3828 3829 3844 3849 3853 3868 3870 3878 3879 3881 3888 3890 3894 3897 3900 3904 3905 3914 3928 3934 3936 3937 3939 3941 3942 3946 3952 3956 3958 3959 3960 3963 3967 3977 3978 3982 3985 3989 3995 3998 4014 4019 4028 4045 4051 4052 4057 4058 4062 4066 4068 4070 4073 4074 4076 4083 4084 4092 4094 4098 4100 4102 4108 4110 4116 4117 4119 4121 4123 4126 4131 4132 4133 4143 4147 4153 4157 4159 4160 4164 4165 4168 4170 4174 4175 4181 4188 4190 4197 4198 4210 4211 4214 4216 4217 4224 4225 4227 4230 4247 4249 4261 4268 4276 4285 4290 4291 4293 4310 4315 4320 4322 4325 4328 4336 4337 4341 4345 4353 4354 4359 4360 4368 4369 4378 4379 4390 4394 4398 4403 4408 4413 4421 4422 4428 4429 4431 4432 4433 4453 4458 4461 4464 4473 4475 4479 4481 4489 4499 4500 4502 4508 4509 4511 4519 4520 4521 4523 4549 4551 4553 4555 4558 4562 4575 4576 4581 4582 4583 4584 4588 4589 4595 4597 4600 4603 4605 4606 4608 4610 4614 4616 4617 4621 4622 4624 4625 4629 4631 4632 4634 4639 4643 4647 4651 4654 4660 4665 4666 4667 4670 4672 4679 4683 4691 4692 4696 4709 4714 4718 4719 4720 4726 4728 4730 4734 4739 4743 4745 4746 4748 4750 4753 4761 4762 4767 4777 4779 4782 4786 4790 4795 4799 4801 4802 4805 4812 4824 4825 4832 4836 4838 4843 4848 4851 4854 4855 4857 4867 4868 4874 4895 4897 4899 4900 4902 4907 4909 4913 4915 4925 4939 4941 4942 4950 4954 4956 4957 4958 4959 4961 4964 4966 4973 4974 4976 4979 4982 4983 4991 4993 4995 5008 5009 5012 5016 5019 5027 5028 5029 5033 5034 5042 5046 5047 5053 5055 5062 5063 5067 5071 5073 5079 5084 5086 5097 5115 5118 5120 5126 5136 5149 5160 5165 5166 5169 5175 5179 5180 5182 5184 5185 5190 5194 5201 5203 5204 5209 5213 5221 5224 5225 5227 5228 5229 5230 5233 5237 5239 5248 5251 5258 5260 5267 5270 5272 5274 5276 5281 5286 5293 5295 5305 5313 5321 5326 5344 5348 5363 5366 5378 5381 5383 5388 5394 5395 5397 5404 5415 5417 5420 5426 5429 5432 5438 5442 5443 5449 5450 5451 5458 5461 5466 5479 5486 5493 5494 5496 5503 5506 5507 5511 5516 5519 5541 5547 5559 5560 5563 5566 5570 5575 5583 5586 5594 5598 5601 5610 5617 5618 5622 5623 5624 5626 5632 5636 5641 5645 5654 5656 5657 5658 5659 5671 5679 5681 5689 5693 5695 5696 5697 5699 5701 5703 5707 5709 5711 5712 5719 5723 5726 5727 5732 5733 5736 5741 5744 5745 5748 5754 5758 5768 5769 5773 5777 5779 5787 5794 5798 5807 5808 5825 5836 5842 5852 5858 5861 5866 5868 5876 5877 5882 5884 5886 5888 5897 5900 5901 5903 5905 5913 5916 5929 5930 5931 5939 5946 5954 5957 5959 5977 5979 5981 5983 5987 5996 5997 5999 6006 6017 6018 6021 6026 6029 6030 6031 6032 6035 6039 6040 6043 6046 6050 6059 6065 6072 6075 6081 6084 6092 6093 6106 6107 6110 6112 6114 6118 6119 6120 6124 6134 6138 6142 6151 6153 6160 6161 6164 6179 6187 6189 6192 6193 6197 6204 6213 6221 6224 6226 6229 6230 6231 6237 6240 6245 6247 6256 6265 6266 6271 6275 6279 6280 6286 6287 6289 6294 6301 6307 6308 6321 6322 6324 6331 6335 6343 6345 6358 6364 6367 6376 6379 6385 6387 6390 6398 6399 6400 6401 6405 6407 6414 6419 6420 6428 6434 6439 6444 6447 6450 6457 6458 6459 6463 6469 6473 6474 6476 6490 6496 6505 6506 6507 6509 6514 6523 6530 6531 6535 6542 6546 6547 6551 6557 6558 6569 6571 6574 6575 6583 6588 6590 6596 6603 6612 6614 6615 6621 6623 6637 6644 6647 6653 6670 6671 6674 6676 6682 6684 6693 6696 6704 6709 6718 6723 6726 6729 6738 6739 6741 6743 6746 6748 6755 6764 6766 6770 6784 6792 6799 6803 6807 6808 6809 6812 6819 6827 6828 6829 6832 6836 6838 6839 6841 6845 6848 6849 6854 6860 6864 6866 6868 6870 6879 6880 6881 6888 6895 6897 6903 6904 6912 6920 6921 6929 6932 6934 6935 6942 6948 6954 6959 6962 6972 6982 6983 6989 6991 6992 6994 6997 7001 7010 7012 7018 7019 7022 7030 7034 7036 7040 7049 7051 7053 7064 7065 7069 7071 7072 7077 7085 7090 7093 7094 7095 7097 7099 7100 7113 7114 7119 7122 7123 7127 7129 7135 7136 7138 7140 7149 7152 7155 7163 7164 7165 7172 7185 7190 7191 7193 7199 7200 7202 7211 7214 7215 7216 7220 7235 7237 7238 7239 7247 7252 7266 7270 7274 7275 7277 7279 7281 7284 7285 7286 7288 7292 7296 7301 7302 7311 7316 7326 7331 7332 7333 7340 7345 7362 7367 7368 7372 7380 7385 7386 7387 7392 7393 7397 7408 7418 7431 7438 7453 7456 7457 7460 7463 7466 7470 7472 7476 7482 7486 7488 7490 7491 7492 7493 7500 7507 7509 7511 7521 7522 7523 7526 7534 7537 7539 7549 7552 7560 7569 7571 7572 7573 7574 7582 7583 7587 7592 7593 7596 7597 7603 7604 7608 7612 7614 7616 7620 7621 7627 7628 7631 7633 7640 7644 7651 7653 7656 7658 7662 7663 7666 7668 7672 7677 7692 7695 7696 7698 7699 7700 7702 7707 7720 7721 7723 7731 7732 7742 7745 7749 7753 7756 7759 7760 7761 7763 7764 7772 7781 7784 7785 7789 7793 7804 7808 7816 7817 7822 7827 7828 7835 7849 7859 7870 7872 7888 7889 7892 7893 7895 7900 7901 7904 7905 7915 7916 7923 7928 7939 7942 7945 7947 7948 7953 7955 7966 7967 7968 7970 7973 7979 7982 7988 7995 7996 7997 7999 8006 8007 8008 8010 8014 8016 8017 8020 8021 8024 8026 8027 8036 8044 8045 8049 8051 8052 8053 8060 8065 8067 8068 8071 8072 8079 8080 8084 8085 8089 8091 8093 8109 8114 8115 8117 8120 8124 8138 8141 8144 8161 8167 8170 8171 8174 8176 8177 8186 8190 8195 8196 8200 8211 8217 8219 8224 8229 8230 8240 8242 8252 8257 8261 8263 8264 8266 8269 8272 8273 8274 8280 8282 8284 8295 8297 8299 8301 8302 8306 8308 8311 8313 8315 8318 8325 8326 8332 8335 8341 8343 8344 8359 8361 8366 8370 8378 8380 8382 8384 8388 8389 8391 8394 8396 8397 8400 8410 8415 8423 8424 8425 8431 8439 8440 8441 8443 8445 8447 8453 8457 8458 8463 8465 8467 8471 8473 8474 8476 8494 8501 8502 8510 8511 8514 8516 8517 8519 8533 8540 8541 8550 8561 8562 8563 8566 8567 8568 8573 8574 8576 8579 8581 8582 8583 8589 8595 8597 8603 8606 8612 8616 8617 8621 8622 8626 8627 8630 8631 8632 8636 8639 8640 8641 8644 8646 8649 8652 8654 8656 8657 8667 8670 8680 8682 8686 8688 8689 8693 8694 8695 8698 8699 8703 8705 8712 8713 8716 8720 8722 8731 8735 8736 8737 8742 8748 8749 8750 8753 8755 8756 8757 8758 8759 8760 8765 8770 8772 8774 8788 8795 8796 8802 8803 8805 8807 8811 8813 8816 8818 8820 8822 8827 8833 8835 8836 8839 8840 8842 8845 8848 8850 8852 8855 8866 8870 8871 8873 8875 8877 8882 8884 8890 8901 8902 8904 8905 8915 8919 8922 8927 8929 8930 8933 8935 8936 8950 8967 8974 8978 8979 8984 8986 8989 8991 8992 8993 8995 9000 9007 9012 9014 9015 9024 9028 9029 9039 9042 9043 9044 9050 9053 9057 9069 9077 9090 9091 9095 9097 9099 9104 9107 9108 9118 9121 9124 9131 9134 9140 9143 9147 9151 9153 9156 9157 9160 9164 9170 9171 9172 9173 9178 9181 9192 9195 9197 9198 9209 9212 9213 9218 9227 9228 9233 9238 9240 9245 9250 9251 9266 9269 9271 9279 9280 9283 9284 9286 9288 9291 9292 9293 9298 9303 9304 9307 9308 9310 9315 9316 9317 9318 9321 9324 9326 9328 9330 9331 9339 9342 9358 9364 9365 9371 9372 9374 9377 9386 9389 9400 9401 9402 9406 9410 9416 9417 9421 9423 9427 9431 9434 9449 9452 9453 9454 9459 9461 9462 9476 9479 9481 9485 9486 9488 9491 9494 9497 9501 9502 9504 9514 9515 9528 9529 9531 9539 9541 9543 9545 9546 9553 9554 9555 9557 9558 9560 9561 9564 9570 9571 9574 9587 9589 9597 9600 9601 9606 9608 9609 9613 9617 9621 9627 9637 9639 9640 9643 9644 9647 9648 9651 9653 9655 9658 9660 9661 9667 9668 9679 9683 9688 9689 9692 9695 9697 9700 9706 9707 9711 9715 9717 9718 9728 9735 9736 9737 9740 9741 9746 9756 9760 9767 9769 9773 9778 9780 9785 9787 9788 9790 9791 9796 9798 9804 9805 9812 9814 9825 9831 9833 9835 9836 9839 9840 9844 9848 9858 9862 9865 9875 9880 9881 9890 9892 9895 9896 9898 9899 9905 9906 9917 9918 9922 9923 9924 9927 9936 9952 9956 9957 9959 9962 9963 9965 9971 9972 9983 9984 9985 9987 9990 9992 9997) 
echo "${entries[@]}"

for i in "${entries[@]}";
do
#	if [[ $i%3 -eq 0 ]]
#	then
#		continue
#	else

#		echo "Setting Pixel ${i}"
#	fi
	sed -i "s/LA_pxl_num =.*/LA_pxl_num = "${i}"/" config/LA_calib_config.ini
	
	python3.8 main.py -id 2 -sp 20 -o dat/chip_002/i_scan/array_calib/LA_pixel$i.root -config config/LA_calib_config.ini
done
